local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local HttpService = game:GetService("HttpService")
local Lighting = game:GetService("Lighting")

local LocalPlayer = Players.LocalPlayer
if not LocalPlayer then
	LocalPlayer = Players.PlayerAdded:Wait()
end
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

local SCRIPT_VERSION = "v0.1"

local state = {
	Fly = false,
	Noclip = false,
	Speed = false,
	Esp = false,
	Aimbot = false,
	Hitbox = false,
	FpsCounter = false,
	PingCounter = false,
	InfJump = false
}

local connections = {
	Fly = nil,
	Noclip = nil,
	Speed = nil,
	Esp = nil,
	Aimbot = nil,
	Hitbox = nil,
	Fps = nil,
	Ping = nil,
	InfJump = nil
}

local function new(class, props)
	local obj = Instance.new(class)
	if props then
		for k, v in pairs(props) do
			if k ~= "Parent" then
				pcall(function() obj[k] = v end)
			end
		end
		if props.Parent then
			pcall(function() obj.Parent = props.Parent end)
		end
	end
	return obj
end

local function applyRainbow(instance, property)
	task.spawn(function()
		while instance and instance.Parent do
			local t = tick()
			local hue = t % 5 / 5
			local color = Color3.fromHSV(hue, 1, 1)
			pcall(function() instance[property] = color end)
			RunService.Heartbeat:Wait()
		end
	end)
end

local function getExecutor()
	if identifyexecutor then return identifyexecutor()
	elseif getexecutorname then return getexecutorname()
	elseif KRNL_LOADED then return "Krnl"
	elseif FLUXUS_LOADED then return "Fluxus"
	else return "Desconhecido" end
end

local function setFPS(val)
	if setfpscap then setfpscap(val) else pcall(function() setfpscap(val) end) end
end

for _, name in ipairs({"DavzxFixLagGui_v2", "DavzxFixLagGui_v3", "DavzxFixLagGui_v4", "DavzxFixLagGui_v5", "DavzxFixLagGui_v5_Button"}) do
	local ex = PlayerGui:FindFirstChild(name)
	if ex then ex:Destroy() end
end

local screenGui = new("ScreenGui", {
	Name = "DavzxFixLagGui_v5_Button",
	Parent = PlayerGui,
	ResetOnSpawn = false,
	ZIndexBehavior = Enum.ZIndexBehavior.Sibling,
})

local accentColor = Color3.fromRGB(75, 170, 255) 

local function createLoadingScreen(onFinish)
	local loadOverlay = new("Frame", { 
		Name = "LoadingOverlay", 
		Parent = screenGui, 
		Size = UDim2.new(1, 0, 1, 0), 
		BackgroundTransparency = 1, 
		ZIndex = 2000 
	})
	
	local loadBox = new("Frame", { 
		Parent = loadOverlay, 
		AnchorPoint = Vector2.new(0.5, 0.5), 
		Position = UDim2.new(0.5, 0, 0.5, 0), 
		Size = UDim2.new(0, 380, 0, 160), 
		BackgroundColor3 = Color3.fromRGB(10, 10, 10), 
		BackgroundTransparency = 0.1, 
		BorderSizePixel = 0 
	})
	new("UICorner", { Parent = loadBox, CornerRadius = UDim.new(0, 12) })
	
	new("ImageLabel", {
		Parent = loadBox,
		BackgroundTransparency = 1,
		Image = "rbxassetid://6015897843",
		ImageColor3 = Color3.fromRGB(0, 0, 0),
		ImageTransparency = 0.3,
		Size = UDim2.new(1, 50, 1, 50),
		Position = UDim2.new(0, -25, 0, -25),
		ZIndex = -1,
		SliceCenter = Rect.new(49, 49, 450, 450),
		ScaleType = Enum.ScaleType.Slice
	})

	local boxStroke = new("UIStroke", { Parent = loadBox, Color = Color3.fromRGB(255, 255, 255), Thickness = 2, Transparency = 0 })
	applyRainbow(boxStroke, "Color")

	local titleLabel = new("TextLabel", { 
		Parent = loadBox, 
		Text = "DAVZX HUB", 
		Font = Enum.Font.GothamBlack, 
		TextSize = 34, 
		TextColor3 = Color3.fromRGB(255, 255, 255), 
		BackgroundTransparency = 1, 
		Size = UDim2.new(1, 0, 0, 50), 
		Position = UDim2.new(0, 0, 0, 25) 
	})
	applyRainbow(titleLabel, "TextColor3")

	local statusLabel = new("TextLabel", { 
		Parent = loadBox, 
		Text = "Initializing...", 
		Font = Enum.Font.GothamMedium, 
		TextSize = 14, 
		TextColor3 = Color3.fromRGB(200, 200, 200), 
		BackgroundTransparency = 1, 
		Size = UDim2.new(1, 0, 0, 20), 
		Position = UDim2.new(0, 0, 0, 80) 
	})

	local barBg = new("Frame", {
		Parent = loadBox,
		BackgroundColor3 = Color3.fromRGB(40, 40, 40),
		Size = UDim2.new(0, 320, 0, 6),
		Position = UDim2.new(0.5, -160, 0, 120),
		BorderSizePixel = 0
	})
	new("UICorner", { Parent = barBg, CornerRadius = UDim.new(1, 0) })

	local barFill = new("Frame", {
		Parent = barBg,
		BackgroundColor3 = Color3.fromRGB(255, 255, 255),
		Size = UDim2.new(0, 0, 1, 0),
		BorderSizePixel = 0
	})
	new("UICorner", { Parent = barFill, CornerRadius = UDim.new(1, 0) })
	applyRainbow(barFill, "BackgroundColor3")

	task.spawn(function()
		loadBox.Size = UDim2.new(0, 360, 0, 140)
		loadBox.BackgroundTransparency = 1
		titleLabel.TextTransparency = 1
		barBg.BackgroundTransparency = 1
		
		TweenService:Create(loadBox, TweenInfo.new(0.5), {BackgroundTransparency = 0.1, Size = UDim2.new(0, 380, 0, 160)}):Play()
		TweenService:Create(titleLabel, TweenInfo.new(0.6), {TextTransparency = 0}):Play()
		TweenService:Create(barBg, TweenInfo.new(0.6), {BackgroundTransparency = 0}):Play()
		task.wait(0.5)

		local steps = {
			{txt = "Verificando Executor...", time = 1.0, prog = 0.3},
			{txt = "Otimizando Scripts...", time = 1.0, prog = 0.6},
			{txt = "Carregando Interface...", time = 1.0, prog = 0.9},
			{txt = "Iniciando...", time = 0.5, prog = 1.0},
		}

		for _, step in ipairs(steps) do
			statusLabel.Text = step.txt
			TweenService:Create(barFill, TweenInfo.new(step.time, Enum.EasingStyle.Sine), {Size = UDim2.new(step.prog, 0, 1, 0)}):Play()
			task.wait(step.time)
		end
		
		TweenService:Create(loadBox, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.In), {Size = UDim2.new(0, 0, 0, 0), BackgroundTransparency = 1}):Play()
		task.wait(0.5) 
		loadOverlay:Destroy() 
		if onFinish then onFinish() end
	end)
end

local function enableDrag(frame, dragHandle)
	local dragging, dragInput, dragStart, startPos
	local function update(input)
		local delta = input.Position - dragStart
		frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
	end
	dragHandle.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true dragStart = input.Position startPos = frame.Position
			input.Changed:Connect(function() if input.UserInputState == Enum.UserInputState.End then dragging = false end end)
		end
	end)
	dragHandle.InputChanged:Connect(function(input) if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then dragInput = input end end)
	UserInputService.InputChanged:Connect(function(input) if input == dragInput and dragging then update(input) end end)
end

local fpsCounterFrame, pingCounterFrame

local function toggleFpsCounter(bool)
	state.FpsCounter = bool
	if bool then
		if fpsCounterFrame then return end
		fpsCounterFrame = new("Frame", { Name = "FloatingFPS", Parent = screenGui, Size = UDim2.new(0, 110, 0, 35), Position = UDim2.new(0.85, 0, 0.05, 0), BackgroundColor3 = Color3.fromRGB(10, 15, 30), BorderSizePixel = 0, ZIndex = 100 })
		new("UICorner", { Parent = fpsCounterFrame, CornerRadius = UDim.new(0, 6) })
		local stroke = new("UIStroke", { Parent = fpsCounterFrame, Thickness = 2, Transparency = 0 })
		local fpsLabel = new("TextLabel", { Parent = fpsCounterFrame, Size = UDim2.new(1,0,1,0), BackgroundTransparency = 1, Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = Color3.fromRGB(255,255,255), Text = "FPS: ..." })
		task.spawn(function()
			while fpsCounterFrame and fpsCounterFrame.Parent do
				local hue = tick() % 5 / 5 local color = Color3.fromHSV(hue, 1, 1) stroke.Color = color fpsLabel.TextColor3 = color RunService.Heartbeat:Wait()
			end
		end)
		local lastTick, frameCount = tick(), 0
		connections.Fps = RunService.Heartbeat:Connect(function()
			frameCount = frameCount + 1
			if tick() - lastTick >= 1 then if fpsLabel.Parent then fpsLabel.Text = "FPS: " .. frameCount end frameCount = 0 lastTick = tick() end
		end)
		enableDrag(fpsCounterFrame, fpsCounterFrame)
	else
		if fpsCounterFrame then fpsCounterFrame:Destroy() fpsCounterFrame = nil end
		if connections.Fps then connections.Fps:Disconnect() connections.Fps = nil end
	end
end

local function togglePingCounter(bool)
	state.PingCounter = bool
	if bool then
		if pingCounterFrame then return end
		pingCounterFrame = new("Frame", { Name = "FloatingPing", Parent = screenGui, Size = UDim2.new(0, 110, 0, 35), Position = UDim2.new(0.85, 0, 0.12, 0), BackgroundColor3 = Color3.fromRGB(10, 15, 30), BorderSizePixel = 0, ZIndex = 100 })
		new("UICorner", { Parent = pingCounterFrame, CornerRadius = UDim.new(0, 6) })
		new("UIStroke", { Parent = pingCounterFrame, Thickness = 2, Color = Color3.fromRGB(40, 110, 210) })
		local pingLabel = new("TextLabel", { Parent = pingCounterFrame, Size = UDim2.new(1,0,1,0), BackgroundTransparency = 1, Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = Color3.fromRGB(255,255,255), Text = "Ping: ..." })
		
		connections.Ping = RunService.Heartbeat:Connect(function()
			local ping = 0
			if LocalPlayer.GetNetworkPing then ping = math.floor(LocalPlayer:GetNetworkPing() * 1000) end
			pingLabel.Text = "Ping: " .. ping .. "ms"
			if ping < 100 then pingLabel.TextColor3 = Color3.fromRGB(85, 255, 127)
			elseif ping < 200 then pingLabel.TextColor3 = Color3.fromRGB(255, 255, 127)
			else pingLabel.TextColor3 = Color3.fromRGB(255, 85, 85) end
		end)
		enableDrag(pingCounterFrame, pingCounterFrame)
	else
		if pingCounterFrame then pingCounterFrame:Destroy() pingCounterFrame = nil end
		if connections.Ping then connections.Ping:Disconnect() connections.Ping = nil end
	end
end

local main = new("Frame", { Name = "Main", AnchorPoint = Vector2.new(0.5, 0.5), Size = UDim2.new(0, 600, 0, 420), Position = UDim2.new(0.5, 0, 0.5, 0), BackgroundColor3 = Color3.fromRGB(255, 255, 255), BorderSizePixel = 0, Parent = screenGui, Visible = false })
new("UICorner", { Parent = main, CornerRadius = UDim.new(0, 9) })
local mainGradient = new("UIGradient", { Parent = main, Color = ColorSequence.new({ ColorSequenceKeypoint.new(0, Color3.fromRGB(5, 10, 30)), ColorSequenceKeypoint.new(0.5, Color3.fromRGB(20, 50, 120)), ColorSequenceKeypoint.new(1, Color3.fromRGB(5, 10, 30)) }), Rotation = 45 })
task.spawn(function() while main.Parent do mainGradient.Rotation = (mainGradient.Rotation + 0.3) % 360 RunService.Heartbeat:Wait() end end)
local mainStroke = new("UIStroke", { Parent = main, Color = accentColor, Transparency = 0, Thickness = 2 })
task.spawn(function() while main.Parent do local t = tick() local hue = 0.55 + 0.1 * math.sin(t * 2) mainStroke.Color = Color3.fromHSV(hue, 1, 1) RunService.Heartbeat:Wait() end end)
local mainScale = new("UIScale", { Parent = main, Scale = 0.75 })
main.ClipsDescendants = true

local topbar = new("Frame", { Parent = main, Size = UDim2.new(1, 0, 0, 45), BackgroundTransparency = 0.9 })
local title = new("TextLabel", { Parent = topbar, Text = "DavzxFixLag Hub v0.1", Font = Enum.Font.GothamBold, TextSize = 18, TextColor3 = Color3.fromRGB(245, 245, 245), BackgroundTransparency = 1, Position = UDim2.new(0, 18, 0, 0), Size = UDim2.new(0, 320, 1, 0), TextXAlignment = Enum.TextXAlignment.Left })
local btnBgColor, btnTextColor = Color3.fromRGB(20, 26, 38), Color3.fromRGB(235, 240, 250)
local function styleButton(btn) new("UICorner", { Parent = btn, CornerRadius = UDim.new(0, 6) }) new("UIStroke", { Parent = btn, Color = accentColor, Transparency = 0.9, Thickness = 1 }) end

local function resetAllSettings()
	if connections.Fly then connections.Fly:Disconnect() connections.Fly = nil end
	pcall(function() LocalPlayer.Character.HumanoidRootPart.Velocity = Vector3.new(0,0,0) end)
	if connections.Noclip then connections.Noclip:Disconnect() connections.Noclip = nil end
	pcall(function() LocalPlayer.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Physics) end)
	if connections.Speed then connections.Speed:Disconnect() connections.Speed = nil end
	pcall(function() LocalPlayer.Character.Humanoid.WalkSpeed = 16 end)
	if connections.Esp then for _,c in pairs(connections.Esp) do c:Disconnect() end connections.Esp = nil end
	for _, p in ipairs(Players:GetPlayers()) do if p.Character then local h = p.Character:FindFirstChild("DavzxESP") if h then h:Destroy() end end end
	if connections.Aimbot then connections.Aimbot:Disconnect() connections.Aimbot = nil end
	if connections.InfJump then connections.InfJump:Disconnect() connections.InfJump = nil end
	state.Hitbox = false 
	toggleFpsCounter(false)
	togglePingCounter(false)
	Lighting.GlobalShadows = true
	Lighting.FogEnd = 100000
	Lighting.Brightness = 2
	setFPS(60)
	pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "Reset", Text = "ConfiguraÃ§Ãµes Resetadas!", Duration = 3}) end)
end

local function showCloseConfirmation()
	local overlay = new("Frame", { Parent = screenGui, Size = UDim2.new(1, 0, 1, 0), BackgroundTransparency = 1, ZIndex = 1000 }) 
	local confirmBox = new("Frame", { Parent = overlay, AnchorPoint = Vector2.new(0.5, 0.5), Position = UDim2.new(0.5, 0, 0.5, 0), Size = UDim2.new(0, 300, 0, 150), BackgroundColor3 = Color3.fromRGB(10, 20, 45), BorderSizePixel = 0 })
	new("UICorner", { Parent = confirmBox, CornerRadius = UDim.new(0, 9) }) new("UIStroke", { Parent = confirmBox, Color = Color3.fromRGB(40, 110, 210), Thickness = 2 })
	new("TextLabel", { Parent = confirmBox, Text = "AVISO", Font = Enum.Font.GothamBold, TextSize = 18, TextColor3 = Color3.fromRGB(255, 100, 100), BackgroundTransparency = 1, Size = UDim2.new(1, 0, 0, 40), Position = UDim2.new(0, 0, 0, 10) })
	new("TextLabel", { Parent = confirmBox, Text = "Tem certeza que quer fechar o Menu?", Font = Enum.Font.Gotham, TextSize = 14, TextColor3 = Color3.fromRGB(240, 240, 240), BackgroundTransparency = 1, Size = UDim2.new(1, -20, 0, 40), Position = UDim2.new(0, 10, 0, 45), TextWrapped = true })
	local btnYes = new("TextButton", { Parent = confirmBox, Text = "Sim", Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = Color3.fromRGB(255, 255, 255), BackgroundColor3 = Color3.fromRGB(200, 50, 50), Size = UDim2.new(0, 100, 0, 35), Position = UDim2.new(0, 30, 0, 100), AutoButtonColor = true }) new("UICorner", { Parent = btnYes, CornerRadius = UDim.new(0, 6) })
	local btnNo = new("TextButton", { Parent = confirmBox, Text = "NÃ£o", Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = Color3.fromRGB(255, 255, 255), BackgroundColor3 = Color3.fromRGB(50, 150, 50), Size = UDim2.new(0, 100, 0, 35), Position = UDim2.new(1, -130, 0, 100), AutoButtonColor = true }) new("UICorner", { Parent = btnNo, CornerRadius = UDim.new(0, 6) })
	btnYes.MouseButton1Click:Connect(function() screenGui:Destroy() end)
	btnNo.MouseButton1Click:Connect(function() overlay:Destroy() end)
end

local btnClose = new("TextButton", { Parent = topbar, Name = "Close", Text = "X", Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = btnTextColor, BackgroundTransparency = 0.85, BackgroundColor3 = btnBgColor, Size = UDim2.new(0, 36, 0, 28), Position = UDim2.new(1, -44, 0, 8), AutoButtonColor = true, BorderSizePixel = 0 })
styleButton(btnClose) btnClose.MouseButton1Click:Connect(showCloseConfirmation)
local btnMin = new("TextButton", { Parent = topbar, Name = "Min", Text = "â€”", Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = btnTextColor, BackgroundTransparency = 0.85, BackgroundColor3 = btnBgColor, Size = UDim2.new(0, 36, 0, 28), Position = UDim2.new(1, -88, 0, 8), AutoButtonColor = true, BorderSizePixel = 0 })
styleButton(btnMin)

local btnResize = new("TextButton", { Parent = topbar, Name = "Resize", Text = "75%", Font = Enum.Font.GothamBold, TextSize = 12, TextColor3 = btnTextColor, BackgroundTransparency = 0.85, BackgroundColor3 = btnBgColor, Size = UDim2.new(0, 48, 0, 28), Position = UDim2.new(1, -144, 0, 8), AutoButtonColor = true, BorderSizePixel = 0 })
styleButton(btnResize)
local currentSizeState = 2 
btnResize.MouseButton1Click:Connect(function() currentSizeState = currentSizeState + 1 if currentSizeState > 3 then currentSizeState = 1 end if currentSizeState == 1 then mainScale.Scale = 1.0 btnResize.Text = "100%" elseif currentSizeState == 2 then mainScale.Scale = 0.75 btnResize.Text = "75%" elseif currentSizeState == 3 then mainScale.Scale = 0.60 btnResize.Text = "60%" end end)

local btnReset = new("TextButton", { Parent = topbar, Name = "Reset", Text = "Redefinir", Font = Enum.Font.GothamBold, TextSize = 11, TextColor3 = Color3.fromRGB(255, 100, 100), BackgroundTransparency = 0.85, BackgroundColor3 = btnBgColor, Size = UDim2.new(0, 60, 0, 28), Position = UDim2.new(1, -210, 0, 8), AutoButtonColor = true, BorderSizePixel = 0 })
styleButton(btnReset)
btnReset.MouseButton1Click:Connect(function()
	resetAllSettings()
	btnReset.Text = "Feito!"
	wait(1)
	btnReset.Text = "Redefinir"
end)

local sidebar = new("Frame", { Parent = main, Name = "Sidebar", Size = UDim2.new(0, 130, 1, -60), Position = UDim2.new(0, 14, 0, 48), BackgroundColor3 = Color3.fromRGB(6, 12, 35), BorderSizePixel = 0 })
new("UICorner", { Parent = sidebar, CornerRadius = UDim.new(0, 9) }) new("UIStroke", { Parent = sidebar, Color = Color3.fromRGB(40,95,200), Transparency = 0.9, Thickness = 1 })
local sidebarLayout = new("UIListLayout", { Parent = sidebar, SortOrder = Enum.SortOrder.LayoutOrder, Padding = UDim.new(0, 8), HorizontalAlignment = Enum.HorizontalAlignment.Center, VerticalAlignment = Enum.VerticalAlignment.Top })
new("UIPadding", { Parent = sidebar, PaddingTop = UDim.new(0, 12) })

local footerLabel = new("TextLabel", {
	Parent = main,
	Text = "YT: DavzxFixRoblox",
	Font = Enum.Font.GothamBlack,
	TextSize = 10,
	Size = UDim2.new(0, 200, 0, 20),
	Position = UDim2.new(0.5, 0, 1, -8),
	AnchorPoint = Vector2.new(0.5, 1),
	BackgroundTransparency = 1,
	TextWrapped = true,
	TextXAlignment = Enum.TextXAlignment.Center,
	ZIndex = 5
})
applyRainbow(footerLabel, "TextColor3")

local content = new("Frame", { Parent = main, Name = "Content", Size = UDim2.new(1, -158, 1, -60), Position = UDim2.new(0, 154, 0, 48), BackgroundColor3 = Color3.fromRGB(6, 12, 35), BorderSizePixel = 0 })
new("UICorner", { Parent = content, CornerRadius = UDim.new(0, 9) }) new("UIStroke", { Parent = content, Color = Color3.fromRGB(40,95,200), Transparency = 0.9, Thickness = 1 })
local contentHeader = new("Frame", { Parent = content, Size = UDim2.new(1, 0, 0, 36), BackgroundTransparency = 1 })
local currentCatLabel = new("TextLabel", { Parent = contentHeader, Text = "Main", Font = Enum.Font.GothamBold, TextSize = 16, TextColor3 = Color3.fromRGB(240, 245, 250), BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 0), Size = UDim2.new(0.5, 0, 1, 0), TextXAlignment = Enum.TextXAlignment.Left })

local searchBox = new("TextBox", { Parent = contentHeader, Name = "SearchBox", AnchorPoint = Vector2.new(1, 0.5), Position = UDim2.new(1, -10, 0.5, 0), Size = UDim2.new(0, 150, 0, 24), BackgroundColor3 = Color3.fromRGB(20, 26, 38), TextColor3 = Color3.fromRGB(200, 200, 200), PlaceholderText = "Pesquisar...", PlaceholderColor3 = Color3.fromRGB(100, 100, 100), Font = Enum.Font.Gotham, TextSize = 13, TextXAlignment = Enum.TextXAlignment.Left })
new("UICorner", { Parent = searchBox, CornerRadius = UDim.new(0, 6) })
new("UIStroke", { Parent = searchBox, Color = Color3.fromRGB(40, 95, 200), Transparency = 0.5, Thickness = 1 })
new("UIPadding", { Parent = searchBox, PaddingLeft = UDim.new(0, 8) })

local scriptsFrame = new("ScrollingFrame", { Parent = content, Name = "ScriptsList", BackgroundTransparency = 1, Size = UDim2.new(1, -12, 1, -40), Position = UDim2.new(0, 6, 0, 36), ScrollBarThickness = 4, CanvasSize = UDim2.new(0,0,0,0), BorderSizePixel = 0 })
local scriptsLayout = new("UIListLayout", { Parent = scriptsFrame, SortOrder = Enum.SortOrder.LayoutOrder, Padding = UDim.new(0, 8) })

searchBox:GetPropertyChangedSignal("Text"):Connect(function()
	local query = searchBox.Text:lower()
	for _, child in ipairs(scriptsFrame:GetChildren()) do
		if child:IsA("Frame") then
			local label = child:FindFirstChildOfClass("TextLabel")
			if label then if label.Text:lower():find(query) then child.Visible = true else child.Visible = false end end
		end
	end
end)

local serverBoxFixed, serverInfoUpdater, activeTab = nil, nil, ""
local function clearChildren(parent) for _, c in ipairs(parent:GetChildren()) do if not (c:IsA("UIListLayout") or c:IsA("UIPadding") or c:IsA("UIScale") or c:IsA("UIGridLayout")) then c:Destroy() end end end
local function resetContent()
	if serverInfoUpdater then pcall(function() serverInfoUpdater:Disconnect() end) serverInfoUpdater = nil end
	if serverBoxFixed then pcall(function() serverBoxFixed:Destroy() end) serverBoxFixed = nil end
	clearChildren(scriptsFrame)
	scriptsFrame.CanvasPosition = Vector2.new(0,0)
	searchBox.Text = ""
end

local sessionJoinTime, avgDt, fpsSmoothed = tick(), 1/60, 60
local function formatTimeSeconds(s) s = math.max(0, math.floor(s)) local h = math.floor(s / 3600) local m = math.floor((s % 3600) / 60) local sec = s % 60 if h > 0 then return string.format("%dh %02dm", h, m) else return string.format("%02dm %02ds", m, sec) end end
local function countFriendsInServer() local count = 0 for _, p in ipairs(Players:GetPlayers()) do if p ~= LocalPlayer then pcall(function() if LocalPlayer:IsFriendsWith(p.UserId) then count = count + 1 end end) end end return count end

local function showMainTab()
	if activeTab == "Main" then return end
	activeTab = "Main"
	currentCatLabel.Text = "Main Info"
	resetContent()
	scriptsFrame.Size = UDim2.new(0.55, -8, 1, -40)

	local containerLeft = new("Frame", { Parent = scriptsFrame, Size = UDim2.new(1, 0, 0, 360), BackgroundTransparency = 1 })
	local avatarFrame = new("Frame", { Parent = containerLeft, Position = UDim2.new(0, 0, 0, 0), Size = UDim2.new(1, 0, 0, 110), BackgroundColor3 = Color3.fromRGB(23,25,27), BorderSizePixel = 0 })
	new("UICorner", { Parent = avatarFrame, CornerRadius = UDim.new(0,6) })
	local avatarImg = new("ImageLabel", { Parent = avatarFrame, Size = UDim2.new(0, 80, 0, 80), Position = UDim2.new(0, 10, 0.5, -40), BackgroundTransparency = 1, Image = "", ScaleType = Enum.ScaleType.Fit })
	new("UICorner", { Parent = avatarImg, CornerRadius = UDim.new(1,0) })
	task.spawn(function() local ok, url = pcall(function() return Players:GetUserThumbnailAsync(LocalPlayer.UserId, Enum.ThumbnailType.HeadShot, Enum.ThumbnailSize.Size150x150) end) if ok and url then avatarImg.Image = url end end)
	new("TextLabel", { Parent = avatarFrame, Text = LocalPlayer.DisplayName, Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = Color3.fromRGB(255,255,255), BackgroundTransparency = 1, Position = UDim2.new(0, 100, 0.3, 0), Size = UDim2.new(0, 100, 0, 20), TextXAlignment = Enum.TextXAlignment.Left })
	new("TextLabel", { Parent = avatarFrame, Text = "@" .. LocalPlayer.Name, Font = Enum.Font.Gotham, TextSize = 12, TextColor3 = Color3.fromRGB(180,180,180), BackgroundTransparency = 1, Position = UDim2.new(0, 100, 0.3, 20), Size = UDim2.new(0, 100, 0, 16), TextXAlignment = Enum.TextXAlignment.Left })

	local sectionsContainer = new("Frame", { Parent = containerLeft, Position = UDim2.new(0, 0, 0, 120), Size = UDim2.new(1, 0, 0, 300), BackgroundTransparency = 1 })
	new("UIListLayout", { Parent = sectionsContainer, SortOrder = Enum.SortOrder.LayoutOrder, Padding = UDim.new(0, 6) })
	local function makeText(p, t, c) new("TextLabel", { Parent = p, Text = t, Font = Enum.Font.Gotham, TextSize = 12, TextColor3 = c or Color3.fromRGB(200,200,200), BackgroundTransparency = 1, Size = UDim2.new(1,0,0,16), TextXAlignment=Enum.TextXAlignment.Left, TextWrapped=true }) end
	
	new("TextLabel", { Parent = sectionsContainer, Text = "Credits", Font = Enum.Font.GothamBold, TextSize = 13, TextColor3 = Color3.fromRGB(255, 215, 0), BackgroundTransparency = 1, Size = UDim2.new(1,0,0,20), TextXAlignment=Enum.TextXAlignment.Left }) 
	makeText(sectionsContainer, "Criado Por Davzx & Sua Equipe", Color3.fromRGB(220,220,220))
	new("Frame", { Parent = sectionsContainer, Size = UDim2.new(1,0,0,4), BackgroundTransparency=1 })
	
	new("TextLabel", { Parent = sectionsContainer, Text = "Support", Font = Enum.Font.GothamBold, TextSize = 13, TextColor3 = Color3.fromRGB(0, 255, 127), BackgroundTransparency = 1, Size = UDim2.new(1,0,0,20), TextXAlignment=Enum.TextXAlignment.Left }) 
	local btnCopyLink = new("TextButton", { Parent = sectionsContainer, Text = "Copiar Link Discord", Font = Enum.Font.GothamBold, TextSize = 11, TextColor3 = Color3.fromRGB(255,255,255), BackgroundColor3 = Color3.fromRGB(40, 110, 210), Size = UDim2.new(0.8, 0, 0, 24), AutoButtonColor = true })
	new("UICorner", { Parent = btnCopyLink, CornerRadius = UDim.new(0,6) })
	btnCopyLink.MouseButton1Click:Connect(function() if setclipboard then setclipboard("https://discord.gg/TCTMsJMr2E") btnCopyLink.Text = "Link Copiado!" delay(2, function() btnCopyLink.Text = "Copiar Link Discord" end) end end)
	new("Frame", { Parent = sectionsContainer, Size = UDim2.new(1,0,0,4), BackgroundTransparency=1 })
	
	new("TextLabel", { Parent = sectionsContainer, Text = "Update Logs", Font = Enum.Font.GothamBold, TextSize = 13, TextColor3 = Color3.fromRGB(255, 170, 0), BackgroundTransparency = 1, Size = UDim2.new(1,0,0,20), TextXAlignment=Enum.TextXAlignment.Left }) 
	makeText(sectionsContainer, "[v0.2] Visual Scripts + Rework", Color3.fromRGB(180,180,180))
	makeText(sectionsContainer, "[v0.1] BF Scripts Added + Footer Fix", Color3.fromRGB(180,180,180))
	
	scriptsFrame.CanvasSize = UDim2.new(0, 0, 0, 420)
	serverBoxFixed = new("Frame", { Parent = content, Name = "ServerBoxFixed", AnchorPoint = Vector2.new(1, 0), Position = UDim2.new(1, -8, 0, 36), Size = UDim2.new(0.42, 0, 0.85, 0), BackgroundColor3 = Color3.fromRGB(10, 20, 45), BorderSizePixel = 0, })
	new("UICorner", { Parent = serverBoxFixed, CornerRadius = UDim.new(0, 9) })
	new("UIStroke", { Parent = serverBoxFixed, Color = Color3.fromRGB(40,95,200), Transparency = 0.8, Thickness = 1 })
	
	new("TextLabel", { Parent = serverBoxFixed, Text = "Server Info", Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = accentColor, BackgroundTransparency = 1, Position = UDim2.new(0, 10, 0, 10), Size = UDim2.new(1, -20, 0, 20), TextXAlignment = Enum.TextXAlignment.Left })
	
	local rightListContainer = new("Frame", { Parent = serverBoxFixed, Position = UDim2.new(0, 10, 0, 40), Size = UDim2.new(1, -20, 1, -50), BackgroundTransparency = 1 })
	new("UIListLayout", { Parent = rightListContainer, SortOrder = Enum.SortOrder.LayoutOrder, Padding = UDim.new(0, 10) })

	local statsGridFrame = new("Frame", { Parent = rightListContainer, Size = UDim2.new(1, 0, 0, 130), BackgroundTransparency = 1, LayoutOrder = 1 })
	new("UIGridLayout", { Parent = statsGridFrame, CellSize = UDim2.new(0.47, 0, 0, 60), CellPadding = UDim2.new(0.06, 0, 0, 10) })

	local function createStatCard(parent, title, icon)
		local card = new("Frame", { Parent = parent, BackgroundColor3 = Color3.fromRGB(20, 25, 35) })
		new("UICorner", { Parent = card, CornerRadius = UDim.new(0, 6) })
		new("UIStroke", { Parent = card, Color = Color3.fromRGB(40, 50, 70), Thickness = 1 })
		new("TextLabel", { Parent = card, Text = icon, Font = Enum.Font.GothamBold, TextSize = 18, TextColor3 = accentColor, BackgroundTransparency = 1, Position = UDim2.new(0, 8, 0, 8), Size = UDim2.new(0, 20, 0, 20) })
		new("TextLabel", { Parent = card, Text = title, Font = Enum.Font.Gotham, TextSize = 11, TextColor3 = Color3.fromRGB(150, 150, 150), BackgroundTransparency = 1, Position = UDim2.new(0, 32, 0, 8), Size = UDim2.new(1, -32, 0, 20), TextXAlignment = Enum.TextXAlignment.Left })
		local val = new("TextLabel", { Parent = card, Text = "...", Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = Color3.fromRGB(255, 255, 255), BackgroundTransparency = 1, Position = UDim2.new(0, 0, 0, 30), Size = UDim2.new(1, 0, 0, 20) })
		return val
	end

	local fpsVal = createStatCard(statsGridFrame, "FPS", "ðŸ–¥ï¸")
	local pingVal = createStatCard(statsGridFrame, "Ping", "ðŸ“¶")
	local timeVal = createStatCard(statsGridFrame, "Time", "ðŸ•’")
	local friendsVal = createStatCard(statsGridFrame, "Friends", "ðŸ‘¥")

	local deviceFrame = new("Frame", { Parent = rightListContainer, Size = UDim2.new(1, 0, 0, 40), BackgroundTransparency = 1, LayoutOrder = 2 })
	new("TextLabel", { Parent = deviceFrame, Text = "Device Support", Font = Enum.Font.GothamBold, TextSize = 12, TextColor3 = Color3.fromRGB(255, 0, 255), Size = UDim2.new(1,0,0,20), BackgroundTransparency = 1, TextXAlignment = Enum.TextXAlignment.Left }) 
	new("TextLabel", { Parent = deviceFrame, Text = "Executor: " .. getExecutor(), Font = Enum.Font.Gotham, TextSize = 12, TextColor3 = Color3.fromRGB(200,200,200), Size = UDim2.new(1,0,0,20), Position = UDim2.new(0,0,0,20), BackgroundTransparency = 1, TextXAlignment = Enum.TextXAlignment.Left })

	local statusFrame = new("Frame", { Parent = rightListContainer, Size = UDim2.new(1, 0, 0, 40), BackgroundTransparency = 1, LayoutOrder = 3 })
new("TextLabel", { Parent = statusFrame, Text = "Script Status", Font = Enum.Font.GothamBold, TextSize = 12, TextColor3 = accentColor, Size = UDim2.new(1,0,0,20), BackgroundTransparency = 1, TextXAlignment = Enum.TextXAlignment.Left })
-- Mudei o TextColor3 abaixo para (255, 0, 0) que Ã© vermelho puro
new("TextLabel", { Parent = statusFrame, Text = "Script On. NÃƒO UTILIZE A OPÃ‡ÃƒO Redefinir ATÃ‰ ARRUMARMOS O BUG. ESTAMOS ARRUMANDO O BUGS DAS OPÃ‡Ã•ES Remover Texturas V1 e V2 âš ï¸", Font = Enum.Font.GothamBold, TextSize = 11, TextColor3 = Color3.fromRGB(255, 0, 0), Size = UDim2.new(1,0,0,20), Position = UDim2.new(0,0,0,20), BackgroundTransparency = 1, TextXAlignment = Enum.TextXAlignment.Left, TextScaled = true, TextWrapped = true })

	local uiAccumulator, friendCheckTimer = 0, 5
	serverInfoUpdater = RunService.Heartbeat:Connect(function(dt)
		local alpha = 0.1 avgDt = avgDt + (dt - avgDt) * alpha fpsSmoothed = 1 / math.max(0.0001, avgDt) uiAccumulator = uiAccumulator + dt friendCheckTimer = friendCheckTimer + dt
		if uiAccumulator >= 0.5 then
			fpsVal.Text = string.format("%d", math.floor(fpsSmoothed + 0.5))
			local p = 0 if LocalPlayer.GetNetworkPing then p = math.floor(LocalPlayer:GetNetworkPing() * 1000) end
			pingVal.Text = string.format("%d ms", p)
			timeVal.Text = formatTimeSeconds(tick() - sessionJoinTime)
			if friendCheckTimer >= 5 then friendCheckTimer = 0 task.spawn(function() friendsVal.Text = tostring(countFriendsInServer()) end) end
			uiAccumulator = 0
		end
	end)
end

local function showConfigFpsTab()
	if activeTab == "ConfigFps" then return end
	activeTab = "ConfigFps"
	currentCatLabel.Text = "Configurar FPS"
	resetContent()
	scriptsFrame.Size = UDim2.new(1, -12, 1, -40)
	local toggleContainer = new("Frame", { Parent = scriptsFrame, Size = UDim2.new(1, 0, 0, 50), BackgroundColor3 = Color3.fromRGB(20, 25, 35), BorderSizePixel = 0 })
	new("UICorner", { Parent = toggleContainer, CornerRadius = UDim.new(0, 6) }) new("UIStroke", { Parent = toggleContainer, Color = Color3.fromRGB(40,95,200), Transparency = 0.8, Thickness = 1 })
	new("TextLabel", { Parent = toggleContainer, Text = "Contador FPS Flutuante", Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = Color3.fromRGB(240, 240, 240), BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 0), Size = UDim2.new(0.7, 0, 1, 0), TextXAlignment = Enum.TextXAlignment.Left })
	local toggleBtn = new("TextButton", { Parent = toggleContainer, Text = "OFF", Font = Enum.Font.GothamBold, TextSize = 12, TextColor3 = Color3.fromRGB(255, 255, 255), BackgroundColor3 = Color3.fromRGB(200, 50, 50), Position = UDim2.new(1, -70, 0.5, -12), Size = UDim2.new(0, 60, 0, 24), AutoButtonColor = true })
	new("UICorner", { Parent = toggleBtn, CornerRadius = UDim.new(0, 6) })
	toggleBtn.MouseButton1Click:Connect(function() 
		state.FpsCounter = not state.FpsCounter
		if state.FpsCounter then toggleBtn.Text = "ON" toggleBtn.BackgroundColor3 = Color3.fromRGB(50, 200, 50) toggleFpsCounter(true) else toggleBtn.Text = "OFF" toggleBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50) toggleFpsCounter(false) end 
	end)
	local capContainer = new("Frame", { Parent = scriptsFrame, Size = UDim2.new(1, 0, 0, 100), BackgroundColor3 = Color3.fromRGB(20, 25, 35), BorderSizePixel = 0 })
	new("UICorner", { Parent = capContainer, CornerRadius = UDim.new(0, 6) }) new("UIStroke", { Parent = capContainer, Color = Color3.fromRGB(40,95,200), Transparency = 0.8, Thickness = 1 })
	new("TextLabel", { Parent = capContainer, Text = "Limitar FPS", Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = Color3.fromRGB(240, 240, 240), BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 10), Size = UDim2.new(1, 0, 0, 20), TextXAlignment = Enum.TextXAlignment.Left })
	local gridFrame = new("Frame", { Parent = capContainer, BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 40), Size = UDim2.new(1, -24, 0, 40) })
	local grid = new("UIGridLayout", { Parent = gridFrame, CellSize = UDim2.new(0, 80, 0, 30), CellPadding = UDim2.new(0, 10, 0, 0), SortOrder = Enum.SortOrder.LayoutOrder })
	local function createCapBtn(val)
		local btn = new("TextButton", { Parent = gridFrame, Text = tostring(val) .. " FPS", Font = Enum.Font.GothamBold, TextSize = 12, TextColor3 = Color3.fromRGB(255, 255, 255), BackgroundColor3 = Color3.fromRGB(40, 110, 210), AutoButtonColor = true })
		new("UICorner", { Parent = btn, CornerRadius = UDim.new(0, 6) })
		btn.MouseButton1Click:Connect(function() setFPS(val) TweenService:Create(btn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 255, 255), TextColor3 = Color3.fromRGB(0,0,0)}):Play() delay(0.1, function() TweenService:Create(btn, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(40, 110, 210), TextColor3 = Color3.fromRGB(255,255,255)}):Play() end) end)
	end
	createCapBtn(60) createCapBtn(120) createCapBtn(144) createCapBtn(240)
end

local function showPlayersTab()
	if activeTab == "Players" then return end
	activeTab = "Players"
	currentCatLabel.Text = "Players Scripts"
	resetContent()
	scriptsFrame.Size = UDim2.new(1, -12, 1, -40)
	local function createScriptButton(title, desc, callback)
		local btnFrame = new("Frame", { Parent = scriptsFrame, Size = UDim2.new(1, 0, 0, 50), BackgroundColor3 = Color3.fromRGB(20, 25, 35), BorderSizePixel = 0 })
		new("UICorner", { Parent = btnFrame, CornerRadius = UDim.new(0, 6) }) new("UIStroke", { Parent = btnFrame, Color = Color3.fromRGB(40,95,200), Transparency = 0.8, Thickness = 1 })
		new("TextLabel", { Parent = btnFrame, Text = title, Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = Color3.fromRGB(240, 240, 240), BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 8), Size = UDim2.new(1, -100, 0, 20), TextXAlignment = Enum.TextXAlignment.Left })
		new("TextLabel", { Parent = btnFrame, Text = desc, Font = Enum.Font.Gotham, TextSize = 12, TextColor3 = Color3.fromRGB(150, 150, 150), BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 28), Size = UDim2.new(1, -100, 0, 16), TextXAlignment = Enum.TextXAlignment.Left })
		local btnExec = new("TextButton", { Parent = btnFrame, Text = "Executar", Font = Enum.Font.GothamBold, TextSize = 12, TextColor3 = Color3.fromRGB(255, 255, 255), BackgroundColor3 = Color3.fromRGB(40, 110, 210), Position = UDim2.new(1, -90, 0.5, -12), Size = UDim2.new(0, 80, 0, 24), AutoButtonColor = true })
		new("UICorner", { Parent = btnExec, CornerRadius = UDim.new(0, 6) })
		btnExec.MouseButton1Click:Connect(function() TweenService:Create(btnExec, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 255, 255), TextColor3 = Color3.fromRGB(10,10,10)}):Play() delay(0.1, function() TweenService:Create(btnExec, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(40, 110, 210), TextColor3 = Color3.fromRGB(255,255,255)}):Play() end) if callback then callback() end end)
	end
	createScriptButton("Remover Texturas Players", "Personagens cinzas e leves.", function()
		local function applyGray(char) task.wait(0.5) for _, obj in ipairs(char:GetDescendants()) do if obj:IsA("Shirt") or obj:IsA("Pants") or obj:IsA("Decal") then obj:Destroy() elseif obj:IsA("BasePart") then obj.Color = Color3.fromRGB(163,162,165) obj.Material = Enum.Material.SmoothPlastic end end end
		for _, p in ipairs(Players:GetPlayers()) do if p.Character then applyGray(p.Character) end p.CharacterAdded:Connect(applyGray) end
		Players.PlayerAdded:Connect(function(p) p.CharacterAdded:Connect(applyGray) end)
		pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "DavzxFixLag", Text = "Texturas Players Removidas!", Duration = 3}) end)
	end)
	createScriptButton("Remover AcessÃ³rios", "Remove chapÃ©us e acessÃ³rios.", function()
		local function isAccessory(inst) return inst and (inst:IsA("Accessory") or inst:IsA("Hat")) end
		local function removeAccessories(character) if not character then return end for _, child in ipairs(character:GetChildren()) do if isAccessory(child) then pcall(function() child:Destroy() end) end end end
		local function handleCharacter(character) removeAccessories(character) local addedConn = character.DescendantAdded:Connect(function(desc) if isAccessory(desc) then pcall(function() desc:Destroy() end) end end) character.AncestryChanged:Connect(function(_, parent) if not parent and addedConn then addedConn:Disconnect() end end) end
		for _, player in ipairs(Players:GetPlayers()) do player.CharacterAdded:Connect(handleCharacter) if player.Character then handleCharacter(player.Character) end end
		Players.PlayerAdded:Connect(function(p) p.CharacterAdded:Connect(handleCharacter) end)
		pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "DavzxFixLag", Text = "AcessÃ³rios Removidos!", Duration = 3}) end)
	end)
	createScriptButton("Remover Avatares", "Deixa outros players invisÃ­veis.", function()
		local function MakeInvisible(Character)
			for _, v in pairs(Character:GetDescendants()) do if v:IsA("BasePart") or v:IsA("Decal") then v.Transparency = 1 elseif v:IsA("Accessory") or v:IsA("Clothing") or v:IsA("ShirtGraphic") or v:IsA("CharacterMesh") then v:Destroy() end end
		end
		for _, Player in pairs(Players:GetPlayers()) do if Player ~= LocalPlayer then if Player.Character then MakeInvisible(Player.Character) end Player.CharacterAdded:Connect(function(Char) task.wait(0.5) MakeInvisible(Char) end) end end
		Players.PlayerAdded:Connect(function(Player) Player.CharacterAdded:Connect(function(Char) task.wait(0.5) MakeInvisible(Char) end) end)
		pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "Modo Fantasma", Text = "Outros players invisÃ­veis", Duration = 3}) end)
	end)
	createScriptButton("Remover AnimaÃ§Ãµes", "Desativa animaÃ§Ãµes dos personagens.", function()
		local function disableAnims(char)
			local animScript = char:WaitForChild("Animate", 2) if animScript then animScript.Disabled = true end
			local hum = char:WaitForChild("Humanoid", 2) if hum then local animator = hum:FindFirstChildOfClass("Animator") if animator then for _, track in ipairs(animator:GetPlayingAnimationTracks()) do track:Stop() end end end
		end
		for _, p in ipairs(Players:GetPlayers()) do if p.Character then disableAnims(p.Character) end p.CharacterAdded:Connect(disableAnims) end
		Players.PlayerAdded:Connect(function(p) p.CharacterAdded:Connect(disableAnims) end)
		pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "DavzxFixLag", Text = "AnimaÃ§Ãµes Removidas!", Duration = 3}) end)
	end)
end

local function showVisualTab()
	if activeTab == "Visual" then return end
	activeTab = "Visual"
	currentCatLabel.Text = "Visual Tweaks"
	resetContent()
	scriptsFrame.Size = UDim2.new(1, -12, 1, -40)

	local function createScriptButton(title, desc, callback)
		local btnFrame = new("Frame", { Parent = scriptsFrame, Size = UDim2.new(1, 0, 0, 50), BackgroundColor3 = Color3.fromRGB(20, 25, 35), BorderSizePixel = 0 })
		new("UICorner", { Parent = btnFrame, CornerRadius = UDim.new(0, 6) }) new("UIStroke", { Parent = btnFrame, Color = Color3.fromRGB(40,95,200), Transparency = 0.8, Thickness = 1 })
		new("TextLabel", { Parent = btnFrame, Text = title, Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = Color3.fromRGB(240, 240, 240), BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 8), Size = UDim2.new(1, -100, 0, 20), TextXAlignment = Enum.TextXAlignment.Left })
		new("TextLabel", { Parent = btnFrame, Text = desc, Font = Enum.Font.Gotham, TextSize = 12, TextColor3 = Color3.fromRGB(150, 150, 150), BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 28), Size = UDim2.new(1, -100, 0, 16), TextXAlignment = Enum.TextXAlignment.Left })
		local btnExec = new("TextButton", { Parent = btnFrame, Text = "Executar", Font = Enum.Font.GothamBold, TextSize = 12, TextColor3 = Color3.fromRGB(255, 255, 255), BackgroundColor3 = Color3.fromRGB(40, 110, 210), Position = UDim2.new(1, -90, 0.5, -12), Size = UDim2.new(0, 80, 0, 24), AutoButtonColor = true })
		new("UICorner", { Parent = btnExec, CornerRadius = UDim.new(0, 6) })
		btnExec.MouseButton1Click:Connect(function() TweenService:Create(btnExec, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 255, 255), TextColor3 = Color3.fromRGB(10,10,10)}):Play() delay(0.1, function() TweenService:Create(btnExec, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(40, 110, 210), TextColor3 = Color3.fromRGB(255,255,255)}):Play() end) if callback then callback() end end)
	end
	
	createScriptButton("Remover Texturas dos BotÃµes", "Deixa a UI cinza e limpa (FPS Boost).", function()
		task.spawn(function()
			local Players = game:GetService("Players")
			local StarterGui = game:GetService("StarterGui")
			local RunService = game:GetService("RunService")
			local LocalPlayer = Players.LocalPlayer
			local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")
			local Camera = workspace.CurrentCamera

			pcall(function()
				StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.PlayerList, false)
				StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.Backpack, false)
				StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.EmotesMenu, false)
				StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.Chat, true)
			end)

			local function IsFullScreen(instance)
				local viewSize = Camera.ViewportSize
				if instance.AbsoluteSize.X >= viewSize.X * 0.9 and instance.AbsoluteSize.Y >= viewSize.Y * 0.9 then return true end
				return false
			end

			local function IsChat(instance)
				if instance:FindFirstAncestor("Chat") or instance:FindFirstAncestor("BubbleChat") or instance.Name == "Chat" then return true end
				return false
			end

			local function CleanUI(instance)
				if IsChat(instance) then return end
				if instance:IsA("ImageButton") or instance:IsA("ImageLabel") then
					instance.Image = ""
					instance.ImageTransparency = 1
				end
				if instance:IsA("ImageButton") or instance:IsA("TextButton") then
					if not IsFullScreen(instance) then
						instance.BackgroundTransparency = 0.5
						instance.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
						instance.BorderSizePixel = 0
						if instance:FindFirstChild("UICorner") then instance.UICorner:Destroy() end
					end
				end
				if instance:IsA("Frame") or instance:IsA("ImageLabel") then
					if instance.BackgroundTransparency < 1 and not IsFullScreen(instance) then
						instance.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
						instance.BorderSizePixel = 0
					end
				end
				if instance:IsA("TextLabel") or instance:IsA("TextButton") then
					instance.TextColor3 = Color3.new(1, 1, 1)
					instance.TextStrokeTransparency = 1
				end
			end

			for _, v in pairs(PlayerGui:GetDescendants()) do CleanUI(v) end
			PlayerGui.DescendantAdded:Connect(function(v) RunService.Heartbeat:Wait() CleanUI(v) end)

			game:GetService("StarterGui"):SetCore("SendNotification", {Title = "UI Otimizada", Text = "BotÃµes cinzas", Duration = 3})
		end)
	end)

	createScriptButton("Remover PartÃ­culas", "Remove efeitos visuais e partÃ­culas.", function()
		task.spawn(function()
			local RunService = game:GetService("RunService")
			local Workspace = game:GetService("Workspace")
			local Lighting = game:GetService("Lighting")
			local StarterGui = game:GetService("StarterGui")

			local EFFECTS_TO_REMOVE = {"ParticleEmitter", "Trail", "Beam", "Smoke", "Fire", "Sparkles", "Explosion"}
			local LIGHTING_EFFECTS = {"BlurEffect", "BloomEffect", "SunRaysEffect", "DepthOfFieldEffect", "ColorCorrectionEffect"}

			local function CleanObject(instance)
				if table.find(EFFECTS_TO_REMOVE, instance.ClassName) then
					if instance:IsA("ParticleEmitter") or instance:IsA("Trail") or instance:IsA("Beam") or instance:IsA("Smoke") or instance:IsA("Fire") or instance:IsA("Sparkles") then
						instance.Enabled = false
					else
						pcall(function() instance:Destroy() end)
					end
				end
				if table.find(LIGHTING_EFFECTS, instance.ClassName) then instance.Enabled = false end
			end

			local function InitialCleanup()
				for _, v in pairs(Workspace:GetDescendants()) do CleanObject(v) end
				for _, v in pairs(Lighting:GetChildren()) do CleanObject(v) end
			end

			local function StartMonitoring()
				Workspace.DescendantAdded:Connect(function(descendant) CleanObject(descendant) end)
				Lighting.ChildAdded:Connect(function(child) CleanObject(child) end)
			end

			InitialCleanup()
			StartMonitoring()
			StarterGui:SetCore("SendNotification", {Title = "FPS Boost", Text = "PartÃ­culas e Efeitos removidos!", Duration = 3})
		end)
	end)

	createScriptButton("Esticar a Tela", "Aumenta o FOV vertical (Res: 0.65).", function()
		if not getgenv then return end
		getgenv().Resolution = {[".gg/scripters"] = 0.65}
		local Camera = workspace.CurrentCamera
		if getgenv().gg_scripters == nil then
			game:GetService("RunService").RenderStepped:Connect(function()
				if getgenv().Resolution and getgenv().Resolution[".gg/scripters"] then
					Camera.CFrame = Camera.CFrame * CFrame.new(0, 0, 0, 1, 0, 0, 0, getgenv().Resolution[".gg/scripters"], 0, 0, 0, 1)
				end
			end)
		end
		getgenv().gg_scripters = "Aori0001"
		pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "DavzxFixLag", Text = "Tela Esticada!", Duration = 3}) end)
	end)

	createScriptButton("Remover Delay", "OtimizaÃ§Ã£o mÃ¡xima (Zero Delay).", function()
		if setfpscap then setfpscap(999) end
		if settings then
			pcall(function() settings().Network.IncomingReplicationLag = 0 end)
			pcall(function() settings().Physics.PhysicsEnvironmentalThrottle = 1 end)
			pcall(function() settings().Rendering.QualityLevel = 1 end)
		end
		local Lighting = game:GetService("Lighting")
		local Terrain = workspace.Terrain
		if Lighting then Lighting.GlobalShadows = false Lighting.FogEnd = 9e9 Lighting.ShadowSoftness = 0 Lighting.Brightness = 2 end
		if Terrain then Terrain.WaterWaveSize = 0 Terrain.WaterWaveSpeed = 0 Terrain.CastShadow = false end
		for _, v in pairs(Lighting:GetChildren()) do if v:IsA("PostEffect") or v:IsA("Atmosphere") or v:IsA("Sky") or v:IsA("DepthOfFieldEffect") or v:IsA("BlurEffect") then v:Destroy() end end
		local function Optimize(v)
			if v:IsA("BasePart") then v.CastShadow = false v.Reflectance = 0
			elseif v:IsA("ParticleEmitter") or v:IsA("Trail") or v:IsA("Beam") or v:IsA("Smoke") or v:IsA("Fire") or v:IsA("Sparkles") then v.Enabled = false
			elseif v:IsA("Explosion") then v.Visible = false end
		end
		for _, v in pairs(workspace:GetDescendants()) do pcall(Optimize, v) end
		workspace.DescendantAdded:Connect(function(v) pcall(Optimize, v) end)
		pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "Zero Delay", Text = "OtimizaÃ§Ã£o MÃ¡xima Aplicada", Duration = 3}) end)
	end)

	createScriptButton("Reduzir Movimentos", "Remove balanÃ§o da Ã¡gua e vento.", function()
		local Lighting = game:GetService("Lighting")
		local Terrain = workspace:WaitForChild("Terrain")
		if Terrain then Terrain.WaterWaveSize = 0 Terrain.WaterWaveSpeed = 0 end
		for _, v in pairs(Lighting:GetChildren()) do if v:IsA("BlurEffect") or v:IsA("MotionBlurEffect") or v:IsA("DepthOfFieldEffect") then v.Enabled = false end end
		if workspace:FindFirstChild("GlobalWind") then workspace.GlobalWind = Vector3.new(0, 0, 0) end
		pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "Otimizado", Text = "Movimentos removidos", Duration = 3}) end)
	end)
end

local function showUniversalTab()
	if activeTab == "Universal" then return end
	activeTab = "Universal"
	currentCatLabel.Text = "Universal Scripts"
	resetContent()
	scriptsFrame.Size = UDim2.new(1, -12, 1, -40)
	local function createScriptButton(title, desc, callback)
		local btnFrame = new("Frame", { Parent = scriptsFrame, Size = UDim2.new(1, 0, 0, 50), BackgroundColor3 = Color3.fromRGB(20, 25, 35), BorderSizePixel = 0 })
		new("UICorner", { Parent = btnFrame, CornerRadius = UDim.new(0, 6) }) new("UIStroke", { Parent = btnFrame, Color = Color3.fromRGB(40,95,200), Transparency = 0.8, Thickness = 1 })
		new("TextLabel", { Parent = btnFrame, Text = title, Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = Color3.fromRGB(240, 240, 240), BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 8), Size = UDim2.new(1, -100, 0, 20), TextXAlignment = Enum.TextXAlignment.Left })
		new("TextLabel", { Parent = btnFrame, Text = desc, Font = Enum.Font.Gotham, TextSize = 12, TextColor3 = Color3.fromRGB(150, 150, 150), BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 28), Size = UDim2.new(1, -100, 0, 16), TextXAlignment = Enum.TextXAlignment.Left })
		local btnExec = new("TextButton", { Parent = btnFrame, Text = "Executar", Font = Enum.Font.GothamBold, TextSize = 12, TextColor3 = Color3.fromRGB(255, 255, 255), BackgroundColor3 = Color3.fromRGB(40, 110, 210), Position = UDim2.new(1, -90, 0.5, -12), Size = UDim2.new(0, 80, 0, 24), AutoButtonColor = true })
		new("UICorner", { Parent = btnExec, CornerRadius = UDim.new(0, 6) })
		btnExec.MouseButton1Click:Connect(function() TweenService:Create(btnExec, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 255, 255), TextColor3 = Color3.fromRGB(10,10,10)}):Play() delay(0.1, function() TweenService:Create(btnExec, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(40, 110, 210), TextColor3 = Color3.fromRGB(255,255,255)}):Play() end) if callback then callback() end end)
	end
	createScriptButton("Remover Texturas V1", "Modo ULTRA. Remove texturas.", function()
		task.spawn(function()
			local Lighting = game:GetService("Lighting") Lighting.GlobalShadows = false Lighting.FogEnd = 9e9
			for _, v in ipairs(Lighting:GetChildren()) do if v:IsA("PostEffect") or v:IsA("Sky") then v:Destroy() end end
			local function ClearTextures(obj) if obj:IsA("BasePart") then obj.Material = Enum.Material.SmoothPlastic obj.Reflectance = 0 elseif obj:IsA("Decal") or obj:IsA("Texture") then obj:Destroy() end end
			for _, v in ipairs(game.Workspace:GetDescendants()) do ClearTextures(v) end
			game.Workspace.DescendantAdded:Connect(ClearTextures)
		end)
	end)
	createScriptButton("Remover Texturas V2", "Modo SUAVE. Reduz grÃ¡ficos.", function()
		task.spawn(function()
			local ToDisable = {Textures = true, VisualEffects = true, Parts = true, Particles = true, Sky = true}
			for _, v in next, game:GetDescendants() do
				if ToDisable.Parts then if v:IsA("Part") or v:IsA("Union") or v:IsA("BasePart") then v.Material = Enum.Material.SmoothPlastic end end
				if ToDisable.Particles then if v:IsA("ParticleEmitter") or v:IsA("Smoke") or v:IsA("Explosion") or v:IsA("Sparkles") or v:IsA("Fire") then v.Enabled = false end end
				if ToDisable.VisualEffects then if v:IsA("BloomEffect") or v:IsA("BlurEffect") or v:IsA("DepthOfFieldEffect") or v:IsA("SunRaysEffect") then v.Enabled = false end end
				if ToDisable.Textures then if v:IsA("Decal") or v:IsA("Texture") then v.Texture = "" end end
				if ToDisable.Sky then if v:IsA("Sky") then v.Parent = nil end end
			end
			pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "Fix Lag V2", Text = "Modo SUAVE Ativado!", Duration = 3}) end)
		end)
	end)
	createScriptButton("Remover CÃ©u", "Remove Skybox.", function()
		local Lighting = game:GetService("Lighting") for _, v in ipairs(Lighting:GetDescendants()) do if v:IsA("Sky") then v:Destroy() end end Lighting.FogColor = Color3.fromRGB(128,128,128) Lighting.Ambient = Color3.fromRGB(128,128,128)
	end)
	createScriptButton("Remover Sombras", "Remove sombras.", function()
		local Lighting = game:GetService("Lighting") pcall(function() Lighting.GlobalShadows = false end)
		for _, v in ipairs(game.Workspace:GetDescendants()) do if v:IsA("BasePart") then pcall(function() v.CastShadow = false end) end end
		game.Workspace.DescendantAdded:Connect(function(v) if v:IsA("BasePart") then pcall(function() v.CastShadow = false end) end end)
		pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "DavzxFixLag", Text = "Sombras Removidas!", Duration = 3}) end)
	end)
	createScriptButton("Remover Som", "Remove sons (Performance).", function()
		task.spawn(function()
			local SoundService = game:GetService("SoundService") local Workspace = game:GetService("Workspace") local ReplicatedStorage = game:GetService("ReplicatedStorage")
			if SoundService then pcall(function() SoundService.AmbientReverb = Enum.ReverbType.NoReverb end) end
			local function KillSound(obj) if obj:IsA("Sound") then obj:Stop() obj.Volume = 0 if not obj.Parent or obj.Parent.Name ~= "LocalPlayer" then pcall(function() obj:Destroy() end) end end end
			for _, v in ipairs(SoundService:GetDescendants()) do KillSound(v) end for _, v in ipairs(Workspace:GetDescendants()) do KillSound(v) end for _, v in ipairs(ReplicatedStorage:GetDescendants()) do KillSound(v) end
			Workspace.DescendantAdded:Connect(function(v) task.wait(); KillSound(v) end) SoundService.DescendantAdded:Connect(function(v) KillSound(v) end) ReplicatedStorage.DescendantAdded:Connect(function(v) KillSound(v) end)
			pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "DavzxFixLag", Text = "Sons Removidos!", Duration = 3}) end)
		end)
	end)
end

local function showBloxFruitsTab()
	if activeTab == "BloxFruits" then return end
	activeTab = "BloxFruits"
	currentCatLabel.Text = "Blox Fruits Scripts"
	resetContent()
	scriptsFrame.Size = UDim2.new(1, -12, 1, -40)
	local function createScriptButton(title, desc, callback)
		local btnFrame = new("Frame", { Parent = scriptsFrame, Size = UDim2.new(1, 0, 0, 50), BackgroundColor3 = Color3.fromRGB(20, 25, 35), BorderSizePixel = 0 })
		new("UICorner", { Parent = btnFrame, CornerRadius = UDim.new(0, 6) }) new("UIStroke", { Parent = btnFrame, Color = Color3.fromRGB(40,95,200), Transparency = 0.8, Thickness = 1 })
		new("TextLabel", { Parent = btnFrame, Text = title, Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = Color3.fromRGB(240, 240, 240), BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 8), Size = UDim2.new(1, -100, 0, 20), TextXAlignment = Enum.TextXAlignment.Left })
		new("TextLabel", { Parent = btnFrame, Text = desc, Font = Enum.Font.Gotham, TextSize = 12, TextColor3 = Color3.fromRGB(150, 150, 150), BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 28), Size = UDim2.new(1, -100, 0, 16), TextXAlignment = Enum.TextXAlignment.Left })
		local btnExec = new("TextButton", { Parent = btnFrame, Text = "Executar", Font = Enum.Font.GothamBold, TextSize = 12, TextColor3 = Color3.fromRGB(255, 255, 255), BackgroundColor3 = Color3.fromRGB(40, 110, 210), Position = UDim2.new(1, -90, 0.5, -12), Size = UDim2.new(0, 80, 0, 24), AutoButtonColor = true })
		new("UICorner", { Parent = btnExec, CornerRadius = UDim.new(0, 6) })
		btnExec.MouseButton1Click:Connect(function() TweenService:Create(btnExec, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 255, 255), TextColor3 = Color3.fromRGB(10,10,10)}):Play() delay(0.1, function() TweenService:Create(btnExec, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(40, 110, 210), TextColor3 = Color3.fromRGB(255,255,255)}):Play() end) if callback then callback() end end)
	end
	
	createScriptButton("Remover Ilhas Distantes", "Oculta ilhas e NPCs distantes (FPS Boost).", function()
		task.spawn(function()
			local RENDER_DISTANCE = 3000 
			local UPDATE_INTERVAL = 1 
			
			local Players = game:GetService("Players")
			local ReplicatedStorage = game:GetService("ReplicatedStorage")
			local Workspace = game:GetService("Workspace")
			local LocalPlayer = Players.LocalPlayer

			local HiddenStorage = ReplicatedStorage:FindFirstChild("HiddenObjects_Optimization")
			if not HiddenStorage then
				HiddenStorage = Instance.new("Folder")
				HiddenStorage.Name = "HiddenObjects_Optimization"
				HiddenStorage.Parent = ReplicatedStorage
			end

			local OriginalParents = {}
			local TARGET_NAMES = {"Enemies", "Characters", "Map", "Islands", "NPCs"}

			local function GetRoot(char) return char and char:FindFirstChild("HumanoidRootPart") end

			local function ToggleObject(obj, shouldShow)
				if shouldShow then
					if obj.Parent == HiddenStorage then
						local originalParent = OriginalParents[obj]
						if originalParent and originalParent.Parent then
							obj.Parent = originalParent
						else
							obj.Parent = Workspace
						end
					end
				else
					if obj.Parent ~= HiddenStorage then
						OriginalParents[obj] = obj.Parent
						obj.Parent = HiddenStorage
					end
				end
			end

			local function CheckDistance()
				local myChar = LocalPlayer.Character
				local myRoot = GetRoot(myChar)
				if not myRoot then return end
				local myPos = myRoot.Position

				local function ProcessFolder(folder)
					if not folder then return end
					for _, child in pairs(folder:GetChildren()) do
						local referencePart = child:IsA("Model") and child.PrimaryPart or child:FindFirstChild("HumanoidRootPart") or child:FindFirstChildWhichIsA("BasePart")
						if referencePart then
							local dist = (referencePart.Position - myPos).Magnitude
							if child ~= myChar then
								if dist > RENDER_DISTANCE then ToggleObject(child, false) else ToggleObject(child, true) end
							end
						end
					end
				end

				for _, name in pairs(TARGET_NAMES) do
					local folder = Workspace:FindFirstChild(name)
					if folder then ProcessFolder(folder) end
				end
				
				for _, child in pairs(HiddenStorage:GetChildren()) do
					local referencePart = child:IsA("Model") and child.PrimaryPart or child:FindFirstChild("HumanoidRootPart") or child:FindFirstChildWhichIsA("BasePart")
					if referencePart then
						local dist = (referencePart.Position - myPos).Magnitude
						if dist <= RENDER_DISTANCE then ToggleObject(child, true) end
					end
				end
			end

			game:GetService("StarterGui"):SetCore("SendNotification", {Title = "OtimizaÃ§Ã£o Ativa", Text = "Ilhas Distantes sendo ocultadas...", Duration = 3})
			while true do
				pcall(CheckDistance)
				task.wait(UPDATE_INTERVAL)
			end
		end)
	end)

	createScriptButton("Remover Tremores", "Remove tremores de cÃ¢mera (Habilidades/Mar).", function()
		task.spawn(function()
			local ReplicatedStorage = game:GetService("ReplicatedStorage")
			local StarterGui = game:GetService("StarterGui")
			local function DisableCameraShake()
				local util = ReplicatedStorage:WaitForChild("Util", 5)
				if not util then return end
				local shakerModule = util:WaitForChild("CameraShaker", 5)
				if not shakerModule then return end
				local CameraShaker = require(shakerModule)
				if CameraShaker then
					if CameraShaker.Stop then CameraShaker:Stop() end
					CameraShaker.Shake = function() end
					CameraShaker.ShakeOnce = function() end
					CameraShaker.StartShake = function() end
					return true
				end
				return false
			end
			local success, result = pcall(DisableCameraShake)
			if success then
				StarterGui:SetCore("SendNotification", {Title = "No Shake", Text = "Tremores de tela removidos.", Duration = 3})
			else
				StarterGui:SetCore("SendNotification", {Title = "Erro", Text = "Falha ao remover tremores (Module nÃ£o achado).", Duration = 3})
			end
		end)
	end)

	createScriptButton("Remover Estruturas", "Remove Ã¡rvores, pedras e props.", function()
		task.spawn(function()
			local Workspace = game:GetService("Workspace")
			local targets = {"tree", "rock", "bush", "grass", "flower", "house", "building", "wall", "fence", "crate", "barrel", "prop", "decoration", "lamp", "lantern", "window", "roof", "door", "structure", "pillar"}
			local safe = {"ground", "floor", "base", "spawn", "check", "point", "dock", "sand", "road", "path", "island"}
			local function CleanMap(obj)
				if not obj then return end
				local model = obj:FindFirstAncestorWhichIsA("Model") if model and (model:FindFirstChild("Humanoid") or model:FindFirstChild("Head")) then return end
				if obj:IsA("SpawnLocation") then return end
				if obj:IsA("BasePart") or obj:IsA("MeshPart") then
					local n = obj.Name:lower()
					for _, s in ipairs(safe) do if n:find(s) then return end end
					if obj.Size.X > 60 and obj.Size.Z > 60 then return end
					for _, t in ipairs(targets) do if n:find(t) then obj:Destroy() return end end
					if obj:IsA("MeshPart") then if obj.Size.X < 20 and obj.Size.Z < 20 then obj:Destroy() end end
				end
				if obj:IsA("Model") then local n = obj.Name:lower() for _, t in ipairs(targets) do if n:find(t) then obj:Destroy() return end end end
			end
			if Workspace:FindFirstChild("Map") then for _, v in ipairs(Workspace.Map:GetDescendants()) do CleanMap(v) end Workspace.Map.DescendantAdded:Connect(function(v) task.wait(0.5) CleanMap(v) end) end
			for _, v in ipairs(Workspace:GetDescendants()) do if v.Name == "Tree" or v.Name == "Rock" then CleanMap(v) end end
			pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "DavzxFixLag", Text = "Estruturas Removidas", Duration = 3}) end)
		end)
	end)
	createScriptButton("Remover Efeitos", "Remove partÃ­culas e efeitos (Smart).", function()
		task.spawn(function()
			local Workspace = game:GetService("Workspace") local Lighting = game:GetService("Lighting") local ReplicatedStorage = game:GetService("ReplicatedStorage")
			local function IsEssential(part) local model = part:FindFirstAncestorWhichIsA("Model") if model then if model:FindFirstChildOfClass("Humanoid") then return true end if model:FindFirstChildOfClass("VehicleSeat") or model:FindFirstChildOfClass("Seat") then return true end local n = model.Name:lower() if n:find("boat") or n:find("ship") or n:find("beast") or n:find("brigade") then return true end end return false end
			local function NukeVisuals(obj)
				if obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Beam") or obj:IsA("Fire") or obj:IsA("Smoke") or obj:IsA("Sparkles") or obj:IsA("Explosion") then obj:Destroy() return end
				if obj:IsA("Light") or obj:IsA("PostEffect") then obj:Destroy() return end
				if obj:IsA("BasePart") then
					if obj.Material == Enum.Material.Neon or obj.Material == Enum.Material.ForceField or obj.Material == Enum.Material.Glass then if not IsEssential(obj) then obj.Transparency = 1 obj.Material = Enum.Material.Plastic obj.Reflectance = 0 obj.CanCollide = false end end
					if obj.Transparency > 0.2 and obj.Transparency < 1 then if not IsEssential(obj) then obj.Transparency = 1 end end
				end
				if obj:IsA("Decal") or obj:IsA("Texture") then if obj.Name ~= "Face" and not IsEssential(obj) then obj:Destroy() end end
			end
			if Lighting then Lighting.GlobalShadows = false Lighting.FogEnd = 9e9 for _, v in ipairs(Lighting:GetChildren()) do if not (v:IsA("Sky") and v.Name == "Sky") then if v:IsA("PostEffect") or v:IsA("Atmosphere") then v:Destroy() end end end end
			for _, v in ipairs(ReplicatedStorage:GetDescendants()) do if v:IsA("ParticleEmitter") or v:IsA("Trail") or v:IsA("Beam") or v:IsA("Fire") then v:Destroy() end end
			for _, v in ipairs(Workspace:GetDescendants()) do NukeVisuals(v) end
			Workspace.DescendantAdded:Connect(function(v) RunService.Heartbeat:Wait() NukeVisuals(v) end)
			pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "DavzxFixLag", Text = "Efeitos Removidos (Smart)", Duration = 3}) end)
		end)
	end)
	createScriptButton("Remover AnimaÃ§Ãµes NPC", "Remove animaÃ§Ãµes de inimigos.", function()
		task.spawn(function()
			local Workspace = game:GetService("Workspace") local Players = game:GetService("Players")
			local function Nuker(model)
				if not model then return end if Players:GetPlayerFromCharacter(model) then return end
				local humanoid = model:FindFirstChildOfClass("Humanoid") or model:FindFirstChildOfClass("AnimationController")
				if humanoid then
					local animator = humanoid:FindFirstChildOfClass("Animator") if animator then animator:Destroy() end
					humanoid.ChildAdded:Connect(function(child) if child:IsA("Animator") then task.wait() child:Destroy() end end)
					for _, part in ipairs(model:GetDescendants()) do if part:IsA("Motor6D") then part.CurrentAngle = 0 part:GetPropertyChangedSignal("CurrentAngle"):Connect(function() part.CurrentAngle = 0 end) end end
				end
			end
			local Enemies = Workspace:FindFirstChild("Enemies") local Characters = Workspace:FindFirstChild("Characters")
			if Enemies then for _, enemy in ipairs(Enemies:GetChildren()) do task.spawn(function() Nuker(enemy) end) end Enemies.ChildAdded:Connect(function(enemy) task.wait(0.2) Nuker(enemy) end) end
			if Characters then Characters.ChildAdded:Connect(function(char) task.wait(0.2) Nuker(char) end) end
			task.spawn(function() while true do task.wait(3) if Enemies then for _, enemy in ipairs(Enemies:GetChildren()) do local hum = enemy:FindFirstChildOfClass("Humanoid") if hum then local anim = hum:FindFirstChildOfClass("Animator") if anim then anim:Destroy() end end end end end end)
			pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "DavzxFixLag", Text = "NPC Animations Removed", Duration = 3}) end)
		end)
	end)
	local renderContainer = new("Frame", { Parent = scriptsFrame, Size = UDim2.new(1, 0, 0, 70), BackgroundColor3 = Color3.fromRGB(20, 25, 35), BorderSizePixel = 0 })
	new("UICorner", { Parent = renderContainer, CornerRadius = UDim.new(0, 6) }) new("UIStroke", { Parent = renderContainer, Color = Color3.fromRGB(40,95,200), Transparency = 0.8, Thickness = 1 })
	new("TextLabel", { Parent = renderContainer, Text = "Diminuir RenderizaÃ§Ã£o (DistÃ¢ncia)", Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = Color3.fromRGB(240, 240, 240), BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 8), Size = UDim2.new(1, -100, 0, 20), TextXAlignment = Enum.TextXAlignment.Left })
	local distInput = new("TextBox", { Parent = renderContainer, Text = "500", Font = Enum.Font.Gotham, TextSize = 13, TextColor3 = Color3.fromRGB(255,255,255), BackgroundColor3 = Color3.fromRGB(30, 35, 50), Position = UDim2.new(0, 12, 0, 32), Size = UDim2.new(0, 60, 0, 24) }) new("UICorner", { Parent = distInput, CornerRadius = UDim.new(0,6) })
	local toggleRender = new("TextButton", { Parent = renderContainer, Text = "OFF", Font = Enum.Font.GothamBold, TextSize = 12, TextColor3 = Color3.fromRGB(255,255,255), BackgroundColor3 = Color3.fromRGB(200, 50, 50), Position = UDim2.new(0, 80, 0, 32), Size = UDim2.new(0, 50, 0, 24), AutoButtonColor = true }) new("UICorner", { Parent = toggleRender, CornerRadius = UDim.new(0,6) })
	local renderActive = false
	toggleRender.MouseButton1Click:Connect(function()
		renderActive = not renderActive
		if renderActive then
			toggleRender.Text = "ON" toggleRender.BackgroundColor3 = Color3.fromRGB(50, 200, 50)
			local dist = tonumber(distInput.Text) or 500
			local Lighting = game:GetService("Lighting") if Lighting then Lighting.FogStart = 60 Lighting.FogEnd = dist Lighting.FogColor = Color3.fromRGB(10, 10, 10) Lighting.GlobalShadows = false Lighting.Brightness = 1 end
			if settings then pcall(function() settings().Rendering.QualityLevel = 1 end) end
			task.spawn(function()
				while renderActive do
					pcall(function()
						local char = LocalPlayer.Character if not char or not char:FindFirstChild("HumanoidRootPart") then return end
						local pos = char.HumanoidRootPart.Position local target = game.Workspace:FindFirstChild("Map") or game.Workspace
						for _, obj in ipairs(target:GetChildren()) do
							if obj:IsA("Model") or obj:IsA("Folder") then
								local pivot = nil
								if obj:IsA("Model") then pivot = obj:GetPivot().Position else local p = obj:FindFirstChildWhichIsA("BasePart", true) if p then pivot = p.Position end end
								if pivot then
									local d = (pos - pivot).Magnitude
									if d > dist then for _, v in ipairs(obj:GetDescendants()) do if v:IsA("BasePart") or v:IsA("MeshPart") then v.Transparency = 1 v.CanCollide = false elseif v:IsA("Decal") or v:IsA("Texture") then v.Transparency = 1 end end
									else for _, v in ipairs(obj:GetDescendants()) do if v:IsA("BasePart") or v:IsA("MeshPart") then if v.Name ~= "HumanoidRootPart" and v.Transparency == 1 then v.Transparency = 0 v.CanCollide = true end elseif v:IsA("Decal") or v:IsA("Texture") then v.Transparency = 0 end end end
								end
							end
						end
					end) task.wait(2)
				end
			end)
		else toggleRender.Text = "OFF" toggleRender.BackgroundColor3 = Color3.fromRGB(200, 50, 50) end
	end)
end

local function showConexaoTab()
	if activeTab == "Conexao" then return end
	activeTab = "Conexao"
	currentCatLabel.Text = "ConexÃ£o"
	resetContent()
	scriptsFrame.Size = UDim2.new(1, -12, 1, -40)

	local function createScriptButton(title, desc, callback)
		local btnFrame = new("Frame", { Parent = scriptsFrame, Size = UDim2.new(1, 0, 0, 50), BackgroundColor3 = Color3.fromRGB(20, 25, 35), BorderSizePixel = 0 })
		new("UICorner", { Parent = btnFrame, CornerRadius = UDim.new(0, 6) }) new("UIStroke", { Parent = btnFrame, Color = Color3.fromRGB(40,95,200), Transparency = 0.8, Thickness = 1 })
		new("TextLabel", { Parent = btnFrame, Text = title, Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = Color3.fromRGB(240, 240, 240), BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 8), Size = UDim2.new(1, -100, 0, 20), TextXAlignment = Enum.TextXAlignment.Left })
		new("TextLabel", { Parent = btnFrame, Text = desc, Font = Enum.Font.Gotham, TextSize = 12, TextColor3 = Color3.fromRGB(150, 150, 150), BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 28), Size = UDim2.new(1, -100, 0, 16), TextXAlignment = Enum.TextXAlignment.Left })
		local btnExec = new("TextButton", { Parent = btnFrame, Text = "Executar", Font = Enum.Font.GothamBold, TextSize = 12, TextColor3 = Color3.fromRGB(255, 255, 255), BackgroundColor3 = Color3.fromRGB(40, 110, 210), Position = UDim2.new(1, -90, 0.5, -12), Size = UDim2.new(0, 80, 0, 24), AutoButtonColor = true })
		new("UICorner", { Parent = btnExec, CornerRadius = UDim.new(0, 6) })
		btnExec.MouseButton1Click:Connect(function() TweenService:Create(btnExec, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(255, 255, 255), TextColor3 = Color3.fromRGB(10,10,10)}):Play() delay(0.1, function() TweenService:Create(btnExec, TweenInfo.new(0.3), {BackgroundColor3 = Color3.fromRGB(40, 110, 210), TextColor3 = Color3.fromRGB(255,255,255)}):Play() end) if callback then callback() end end)
	end

	local toggleContainer = new("Frame", { Parent = scriptsFrame, Size = UDim2.new(1, 0, 0, 50), BackgroundColor3 = Color3.fromRGB(20, 25, 35), BorderSizePixel = 0 })
	new("UICorner", { Parent = toggleContainer, CornerRadius = UDim.new(0, 6) }) new("UIStroke", { Parent = toggleContainer, Color = Color3.fromRGB(40,95,200), Transparency = 0.8, Thickness = 1 })
	new("TextLabel", { Parent = toggleContainer, Text = "Exibir Ping Flutuante", Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = Color3.fromRGB(240, 240, 240), BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 0), Size = UDim2.new(0.7, 0, 1, 0), TextXAlignment = Enum.TextXAlignment.Left })
	local toggleBtn = new("TextButton", { Parent = toggleContainer, Text = "OFF", Font = Enum.Font.GothamBold, TextSize = 12, TextColor3 = Color3.fromRGB(255, 255, 255), BackgroundColor3 = Color3.fromRGB(200, 50, 50), Position = UDim2.new(1, -70, 0.5, -12), Size = UDim2.new(0, 60, 0, 24), AutoButtonColor = true })
	new("UICorner", { Parent = toggleBtn, CornerRadius = UDim.new(0, 6) })
	toggleBtn.MouseButton1Click:Connect(function()
		state.PingCounter = not state.PingCounter
		if state.PingCounter then toggleBtn.Text = "ON" toggleBtn.BackgroundColor3 = Color3.fromRGB(50, 200, 50) togglePingCounter(true)
		else toggleBtn.Text = "OFF" toggleBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50) togglePingCounter(false) end
	end)

	createScriptButton("Melhorar ConexÃ£o", "Otimiza configuraÃ§Ãµes de rede.", function()
		if settings then pcall(function() settings().Network.IncomingReplicationLag = 0 end) pcall(function() settings().Network.OwnerBasedPhysics = true end) end
		pcall(function() game:GetService("NetworkClient"):SetOutgoingKBPSLimit(math.huge) end)
		pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "DavzxFixLag", Text = "ConfiguraÃ§Ãµes de Rede Otimizadas!", Duration = 3}) end)
	end)

	createScriptButton("LocalizaÃ§Ã£o do Servidor", "Detecta a regiÃ£o do servidor (API).", function()
		pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "ConexÃ£o", Text = "Verificando RegiÃ£o...", Duration = 2}) end)
		task.spawn(function()
			local success, result = pcall(function() return HttpService:JSONDecode(game:HttpGet("http://ip-api.com/json/")) end)
			if success and result then local country = result.country or "Unknown" local region = result.regionName or "Unknown" pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "RegiÃ£o Detectada", Text = country .. " - " .. region, Duration = 5}) end)
			else pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", {Title = "Erro", Text = "Falha ao obter regiÃ£o (HTTP blocked?)", Duration = 3}) end) end
		end)
	end)
end

local function showExtrasTab()
	if activeTab == "Extras" then return end
	activeTab = "Extras"
	currentCatLabel.Text = "FunÃ§Ãµes Extras"
	resetContent()
	scriptsFrame.Size = UDim2.new(1, -12, 1, -40)

	local function createExtraToggle(title, desc, key, callback)
		local toggleFrame = new("Frame", { Parent = scriptsFrame, Size = UDim2.new(1, 0, 0, 60), BackgroundColor3 = Color3.fromRGB(20, 25, 35), BorderSizePixel = 0 })
		new("UICorner", { Parent = toggleFrame, CornerRadius = UDim.new(0, 6) }) 
		new("UIStroke", { Parent = toggleFrame, Color = Color3.fromRGB(40,95,200), Transparency = 0.8, Thickness = 1 })
		
		new("TextLabel", { Parent = toggleFrame, Text = title, Font = Enum.Font.GothamBold, TextSize = 14, TextColor3 = Color3.fromRGB(240, 240, 240), BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 10), Size = UDim2.new(1, -100, 0, 20), TextXAlignment = Enum.TextXAlignment.Left })
		new("TextLabel", { Parent = toggleFrame, Text = desc, Font = Enum.Font.Gotham, TextSize = 11, TextColor3 = Color3.fromRGB(150, 150, 150), BackgroundTransparency = 1, Position = UDim2.new(0, 12, 0, 32), Size = UDim2.new(1, -100, 0, 16), TextXAlignment = Enum.TextXAlignment.Left })
		
		local btnToggle = new("TextButton", { Parent = toggleFrame, Text = "OFF", Font = Enum.Font.GothamBold, TextSize = 12, TextColor3 = Color3.fromRGB(255, 255, 255), BackgroundColor3 = Color3.fromRGB(200, 50, 50), Position = UDim2.new(1, -70, 0.5, -12), Size = UDim2.new(0, 60, 0, 24), AutoButtonColor = true })
		new("UICorner", { Parent = btnToggle, CornerRadius = UDim.new(0, 6) })
		
		if state[key] then
			btnToggle.Text = "ON"
			btnToggle.BackgroundColor3 = Color3.fromRGB(50, 200, 50)
		end
		
		btnToggle.MouseButton1Click:Connect(function()
			state[key] = not state[key]
			if state[key] then
				btnToggle.Text = "ON"
				btnToggle.BackgroundColor3 = Color3.fromRGB(50, 200, 50)
				callback(true)
			else
				btnToggle.Text = "OFF"
				btnToggle.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
				callback(false)
			end
		end)
	end

	local bodyVel
	createExtraToggle("Fly (Voo)", "Mobile: Use o joystick. PC: W,A,S,D.", "Fly", function(bool)
		if bool then
			local speed = 50
			local char = LocalPlayer.Character
			if not char then return end
			local root = char:FindFirstChild("HumanoidRootPart")
			local hum = char:FindFirstChild("Humanoid")
			if not root or not hum then return end
			
			local cam = workspace.CurrentCamera
			local bv = Instance.new("BodyVelocity", root)
			bv.Velocity = Vector3.new(0,0,0)
			bv.MaxForce = Vector3.new(9e9, 9e9, 9e9)
			bodyVel = bv
			
			connections.Fly = RunService.RenderStepped:Connect(function()
				if not char or not root.Parent then return end
				if hum.MoveDirection.Magnitude > 0 then
					bv.Velocity = cam.CFrame.LookVector * speed
				else
					bv.Velocity = Vector3.new(0, 0, 0)
				end
			end)
		else
			if connections.Fly then connections.Fly:Disconnect() connections.Fly = nil end
			if bodyVel then bodyVel:Destroy() bodyVel = nil end
			pcall(function() LocalPlayer.Character.HumanoidRootPart.Velocity = Vector3.new(0,0,0) end)
		end
	end)
	
	createExtraToggle("ESP (Wallhack)", "Mostra inimigos atravÃ©s das paredes.", "Esp", function(bool)
		if bool then
			connections.Esp = {}
			local function addHighlight(char)
				if not char then return end
				if char == LocalPlayer.Character then return end
				if char:FindFirstChild("DavzxESP") then return end
				
				local hl = Instance.new("Highlight")
				hl.Name = "DavzxESP"
				hl.Adornee = char
				hl.FillColor = Color3.fromRGB(255, 0, 0)
				hl.FillTransparency = 0.5
				hl.OutlineColor = Color3.fromRGB(255, 255, 255)
				hl.OutlineTransparency = 0
				hl.Parent = char
			end
			
			local function onPlayerAdded(p)
				if p.Character then addHighlight(p.Character) end
				local c = p.CharacterAdded:Connect(function(char) task.wait(0.5) addHighlight(char) end)
				table.insert(connections.Esp, c)
			end
			
			for _, p in ipairs(Players:GetPlayers()) do
				if p ~= LocalPlayer then onPlayerAdded(p) end
			end
			local addedC = Players.PlayerAdded:Connect(onPlayerAdded)
			table.insert(connections.Esp, addedC)
		else
			if connections.Esp then for _, c in ipairs(connections.Esp) do c:Disconnect() end connections.Esp = nil end
			for _, p in ipairs(Players:GetPlayers()) do
				if p.Character then
					local hl = p.Character:FindFirstChild("DavzxESP")
					if hl then hl:Destroy() end
				end
			end
		end
	end)

	createExtraToggle("Aimbot", "Foca a cÃ¢mera no inimigo mais prÃ³ximo.", "Aimbot", function(bool)
		if bool then
			connections.Aimbot = RunService.RenderStepped:Connect(function()
				local cam = workspace.CurrentCamera
				local mouse = LocalPlayer:GetMouse()
				local closestDist = 150
				local target = nil
				
				for _, v in pairs(Players:GetPlayers()) do
					if v ~= LocalPlayer and v.Character and v.Character:FindFirstChild("Head") and v.Character:FindFirstChild("HumanoidRootPart") then
						if (v.Character.HumanoidRootPart.Position - cam.CFrame.Position).Magnitude < 500 then
							local pos, vis = cam:WorldToViewportPoint(v.Character.Head.Position)
							if vis then
								local dist = (Vector2.new(mouse.X, mouse.Y) - Vector2.new(pos.X, pos.Y)).Magnitude
								if dist < closestDist then
									closestDist = dist
									target = v.Character.Head
								end
							end
						end
					end
				end
				
				if target then
					TweenService:Create(cam, TweenInfo.new(0.1, Enum.EasingStyle.Sine), {CFrame = CFrame.new(cam.CFrame.Position, target.Position)}):Play()
				end
			end)
		else
			if connections.Aimbot then connections.Aimbot:Disconnect() connections.Aimbot = nil end
		end
	end)

	createExtraToggle("WalkSpeed (RÃ¡pido)", "ForÃ§a a velocidade do personagem para 50.", "Speed", function(bool)
		if bool then
			connections.Speed = RunService.Heartbeat:Connect(function() 
				pcall(function()
					if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
						if LocalPlayer.Character.Humanoid.WalkSpeed ~= 50 then
							LocalPlayer.Character.Humanoid.WalkSpeed = 50
						end
					end
				end)
			end)
		else
			if connections.Speed then connections.Speed:Disconnect() connections.Speed = nil end
			pcall(function() LocalPlayer.Character.Humanoid.WalkSpeed = 16 end)
		end
	end)

	createExtraToggle("Noclip", "Permite atravessar paredes e objetos.", "Noclip", function(bool)
		if bool then
			connections.Noclip = RunService.Stepped:Connect(function()
				if LocalPlayer.Character then
					for _, v in pairs(LocalPlayer.Character:GetDescendants()) do
						if v:IsA("BasePart") and v.CanCollide == true then
							v.CanCollide = false
						end
					end
				end
			end)
		else
			if connections.Noclip then connections.Noclip:Disconnect() connections.Noclip = nil end
		end
	end)

	createExtraToggle("Infinite Jump", "Pulo infinito (Spam Space).", "InfJump", function(bool)
		if bool then
			connections.InfJump = UserInputService.JumpRequest:Connect(function()
				if LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid") then
					LocalPlayer.Character:FindFirstChildOfClass("Humanoid"):ChangeState(Enum.HumanoidStateType.Jumping)
				end
			end)
		else
			if connections.InfJump then connections.InfJump:Disconnect() connections.InfJump = nil end
		end
	end)

	createExtraToggle("HitBox Expander", "Aumenta a cabeÃ§a dos inimigos (Hitbox).", "Hitbox", function(bool)
		state.Hitbox = bool
		if bool then
			task.spawn(function()
				while state.Hitbox do
					for _, p in ipairs(Players:GetPlayers()) do
						if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
							p.Character.HumanoidRootPart.Size = Vector3.new(15, 15, 15)
							p.Character.HumanoidRootPart.Transparency = 0.7
							p.Character.HumanoidRootPart.Color = Color3.fromRGB(255, 0, 0)
							p.Character.HumanoidRootPart.CanCollide = false
							p.Character.HumanoidRootPart.Material = Enum.Material.Neon
						end
					end
					task.wait(1) 
				end
			end)
		else
			for _, p in ipairs(Players:GetPlayers()) do
				if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
					p.Character.HumanoidRootPart.Size = Vector3.new(2, 2, 1)
					p.Character.HumanoidRootPart.Transparency = 1
				end
			end
		end
	end)
end

local sidebarButtonsData = {} 

local function createSidebarButton(iconId, text, callback)
	local btn = new("TextButton", {
		Parent = sidebar,
		Text = "", 
		BackgroundColor3 = Color3.fromRGB(30, 35, 50),
		BackgroundTransparency = 1, 
		Size = UDim2.new(0, 110, 0, 36),
		AutoButtonColor = true,
		BorderSizePixel = 0
	})
	
	local img = new("ImageLabel", {
		Parent = btn,
		BackgroundTransparency = 1,
		Image = "rbxassetid://" .. tostring(iconId),
		Size = UDim2.new(0, 20, 0, 20),
		Position = UDim2.new(0, 8, 0.5, -10), 
		ImageColor3 = Color3.fromRGB(150, 150, 150) 
	})

	local txt = new("TextLabel", {
		Parent = btn,
		BackgroundTransparency = 1,
		Text = text,
		Font = Enum.Font.GothamBold,
		TextSize = 13,
		TextColor3 = Color3.fromRGB(150, 150, 150), 
		Size = UDim2.new(1, -36, 1, 0),
		Position = UDim2.new(0, 36, 0, 0), 
		TextXAlignment = Enum.TextXAlignment.Left
	})
	
	local stroke = new("UIStroke", {
		Parent = btn,
		ApplyStrokeMode = Enum.ApplyStrokeMode.Border, 
		Thickness = 3, 
		Transparency = 1, 
		Color = Color3.fromRGB(255, 255, 255) 
	})
	
	local gradient = new("UIGradient", {
		Parent = stroke,
		Color = ColorSequence.new({
			ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 255, 255)),   
			ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0, 80, 255)),  
			ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 255, 255))    
		}),
		Rotation = 0,
		Enabled = true
	})

	local btnData = {
		Button = btn, 
		Icon = img, 
		Label = txt, 
		Stroke = stroke, 
		Gradient = gradient, 
		Callback = callback,
		SetActive = function(self, active)
			if active then
				stroke.Transparency = 0 
				img.ImageColor3 = Color3.fromRGB(255, 255, 255) 
				txt.TextColor3 = Color3.fromRGB(255, 255, 255) 
			else
				stroke.Transparency = 1 
				img.ImageColor3 = Color3.fromRGB(150, 150, 150) 
				txt.TextColor3 = Color3.fromRGB(150, 150, 150) 
			end
		end
	}
	table.insert(sidebarButtonsData, btnData)

	btn.MouseButton1Click:Connect(function()
		for _, data in ipairs(sidebarButtonsData) do
			data:SetActive(false)
		end
		btnData:SetActive(true)
		if callback then task.spawn(callback) end
	end)
	
	task.spawn(function()
		while btn.Parent do
			gradient.Rotation = gradient.Rotation + 3
			RunService.Heartbeat:Wait()
		end
	end)

	return btnData
end

local mainBtnData = createSidebarButton("7733960981", "Main", showMainTab) 
createSidebarButton("7733954760", "Universal", showUniversalTab) 
createSidebarButton("7733774602", "Visual", showVisualTab) 
createSidebarButton("7733799901", "Blox Fruits", showBloxFruitsTab) 
createSidebarButton("7733765045", "Config FPS", showConfigFpsTab) 
createSidebarButton("7743876054", "Players", showPlayersTab) 
createSidebarButton("7743878148", "ConexÃ£o", showConexaoTab) 
createSidebarButton("7733920644", "Extras", showExtrasTab)

enableDrag(main, topbar)

local minimized = false
local mobileBtn
local function spawnMobileButton()
	if mobileBtn then return end
	
	mobileBtn = new("ImageButton", {
		Parent = screenGui, Name = "MobileToggle",
		BackgroundColor3 = Color3.fromRGB(255, 255, 255), 
		Size = UDim2.new(0, 50, 0, 50), 
		Position = UDim2.new(0.05, 0, 0.2, 0),
		AutoButtonColor = false, ZIndex = 100,
		Image = "", 
	})
	
	new("UICorner", { Parent = mobileBtn, CornerRadius = UDim.new(0, 14) }) 
	
	local mbGradient = new("UIGradient", {
		Parent = mobileBtn,
		Color = ColorSequence.new({
			ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 200, 255)),
			ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 80, 200))
		}),
		Rotation = 45
	})
	
	local shadow = new("ImageLabel", {
		Parent = mobileBtn,
		BackgroundTransparency = 1,
		Image = "rbxassetid://6014261993", 
		ImageColor3 = Color3.fromRGB(0, 0, 0),
		ImageTransparency = 0.5,
		Size = UDim2.new(1, 40, 1, 40),
		Position = UDim2.new(0, -20, 0, -20),
		ZIndex = 99,
		SliceCenter = Rect.new(49, 49, 450, 450),
		ScaleType = Enum.ScaleType.Slice
	})

	local letter = new("TextLabel", {
		Parent = mobileBtn,
		Size = UDim2.new(1, 0, 1, 0),
		BackgroundTransparency = 1,
		Text = "D",
		Font = Enum.Font.GothamBlack,
		TextSize = 28,
		TextColor3 = Color3.fromRGB(255, 255, 255),
		ZIndex = 102
	})
	
	new("UIStroke", {
		Parent = letter,
		Thickness = 2,
		Transparency = 0.5,
		Color = Color3.fromRGB(0, 50, 150)
	})

	enableDrag(mobileBtn, mobileBtn)
	local isDraggingBtn = false
	mobileBtn.InputBegan:Connect(function() isDraggingBtn = false end)
	mobileBtn.InputChanged:Connect(function() isDraggingBtn = true end)
	
	mobileBtn.MouseButton1Down:Connect(function()
		TweenService:Create(mobileBtn, TweenInfo.new(0.1), {Size = UDim2.new(0, 45, 0, 45)}):Play()
	end)
	
	mobileBtn.MouseButton1Up:Connect(function()
		TweenService:Create(mobileBtn, TweenInfo.new(0.1), {Size = UDim2.new(0, 50, 0, 50)}):Play()
		if not isDraggingBtn then
			minimized = false
			mobileBtn:Destroy()
			mobileBtn = nil
			main.Visible = true
			mainScale.Scale = 0
			TweenService:Create(mainScale, TweenInfo.new(0.4, Enum.EasingStyle.Back), {Scale = 0.75}):Play()
		end
	end)
end
btnMin.MouseButton1Click:Connect(function()
	minimized = true
	main.Visible = false
	spawnMobileButton()
end)

createLoadingScreen(function()
	showMainTab()
	if mainBtnData then
		mainBtnData:SetActive(true)
	end
	main.Visible = true
	TweenService:Create(mainScale, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {Scale = 0.75}):Play()
end)
